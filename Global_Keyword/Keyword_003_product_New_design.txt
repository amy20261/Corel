*** Settings ***
Library           Selenium2Library
Resource          Keyword_003_Product.txt
Resource          Keyword_001_Home.txt
Resource          Keyword_003_Product.txt

*** Keywords ***
Open Browser to Products Page_New design
    [Arguments]    ${env}=dev    ${microsite}=corel    ${lan}=en    ${currency}=en-US    ${page}=painter
    Wait Until Keyword Succeeds    2    3    open browser    https://${env}.www.${microsite}.public.corel.net/${lan}/products/${page}?currency=${currency}    browser=firefox
    Wait Until Keyword Succeeds    2    3    go to    https://${env}.www.${microsite}.public.corel.net/${lan}/products/${page}?currency=${currency}
    Maximize Browser Window
    sleep    1

Check promo price on product_New design
    [Arguments]    ${SKU}    ${Full_Reg}    ${SavingBadge}    ${Full_promo}    ${UPSKU}    ${BOXSKU}
    ...    ${UPBOXSKU}
    Run keyword if    '${SKU}'=='${UPSKU}'    Select software Type
    Run keyword if    '${SKU}'=='${BOXSKU}'    Select Delivery
    Run keyword if    '${SKU}'=='${UPBOXSKU}'    run keywords    Select software Type
    ...    AND    Select Delivery
    Run keyword if    '${SavingBadge}'!=""    run keywords    Verify SavingsBadge    ${SavingBadge}
    ...    AND    Verify Full_Reg price    ${Full_Reg}
    ...    AND    Verify Full_Promo Price    ${Full_promo}
    ...    ELSE    Verify Full_Promo Price    ${Full_Reg}

select Software Type
    click element    //label[//input[@id='dynPrice_SKU_2']]

select Delivery
    click element    //label[//input[@id='dynPrice_box']]

Check PSU product page_New design
    [Arguments]    ${env}    ${currency}    ${SKU}    ${Full_Reg}    ${SavingBadge}=${null}    ${Full_promo}=${null}
    close all browsers
    Open Browser to Products Page_New design    ${env}    ${wPSP}    en    ${currency}    paintshop-pro/ultimate/index2.html
    Check promo price on product_New design    ${SKU}    ${Full_Reg}    ${SavingBadge}    ${Full_promo}    ${UPSU}    ${OPSU}
    ...    ${XPSU}
    close all browsers
